# sylar学习汇总

这里是最终总结。其实现在的任务是，自己已经差不多把sylar服务器搞定了，现在需要把自己学到的东西搬到简历里面。

首先是多线程编程，多协程编程。

之后是关于定时器，调度器。

然后是同步变异步，管道，epoll过程。

socket编程，多种方式建立http连接。



看了一下，这其实和nginx差别不大。



感觉主要写这四点就ok了。

然后是nginx的学习。



感觉ok了，就这两个项目就好了，加上自己之前的实习以及项目，感觉已经很ok了。

主要还是有点担心自己的八股。

sylar和nginx还是分为两个吧，后面两个再压缩一下，主要也不太能获得什么交流，前面两个很ok。

nginx首先写



总结一下nginx的特点：

1.Reactor事件驱动模型，并发能力强。

时间收集器、事件发送器、事件处理器3个基本单元，其核心实现四将所有要处理的I/O事件注册到一个中心I/O多路复用器上，同时主线程/进程阻塞在多路复用器上，一旦有I/O时间到来或者准备就绪（文件描述符或Socket可读、写），多路复用器返回并将事先注册的响应I/O事件分发到对应的处理器中。

使用多路复用技术，这里用的是epoll模型。

> 在sylar是一样的，不一样的是还用的同步来实现异步的方式，这里是通过加入定时器查看是否超时，加入任务队列，然后切换协程。这里可以通过epoll_wait唤醒，然后执行。
>
> epoll_wait那里也是这样的，相当于是有两种，一种是定时器，一种是IO操作的部分。
>
> 所有的处理都是封装成协程，放入调度队列中的。

2.两类进程

一种是后台进程(Master)，另一种是工作进程(Worker)，

1. Master管理进程主要负责调度Worker工作进程，比如加载配置、启动工作进程、接收来自外界的信号、向各Worker进程发送信号、监控Worker进程的运行状态等。所以Nginx启动以后，我们能看到至少两个Nginx进程。
2. Master负责创建监听套接口，交由Worker进程进行连接监听。

> 在sylar中思路是很像的，不过sylar用的是多线程，sylar用的是多进程。

3.模块化设计

这因为自己做的没有很完备，所以可能这个比较欠缺，很难说自己做的是完备的，且模块化的，但是可以学习一下，然后看一下可不可以蹭一下。

4.Nginx配置文件上下文结构

根据配置文件中的配置指令知道对应到哪个模块的哪个指令，然后调用。